/* Fixed sidebar styles - injected into every page */

/* Typography reset for sidebar isolation - prevents webpage font styles from leaking in */
#workspace-manager-sidebar,
#workspace-manager-sidebar *,
.wm-modal-overlay,
.wm-modal-overlay *,
.wm-panel-overlay,
.wm-panel-overlay *,
.wm-context-menu,
.wm-context-menu * {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
  letter-spacing: normal !important;
  word-spacing: normal !important;
  text-indent: 0 !important;
  text-shadow: none !important;
  -webkit-font-smoothing: antialiased !important;
  -moz-osx-font-smoothing: grayscale !important;
  box-sizing: border-box !important;
}

#workspace-manager-sidebar {
  position: fixed;
  z-index: 999999;
  overflow-x: hidden !important;
  overflow-y: auto !important;
  overflow: hidden auto !important;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
  font-size: 14px !important;
  font-weight: 400 !important;
  line-height: 1.5 !important;
  color: #d4d4d4 !important;
  text-align: left !important;
  text-transform: none !important;
  text-decoration: none !important;
  transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1), 
              transform 0.5s cubic-bezier(0.4, 0, 0.2, 1), 
              left 0.5s cubic-bezier(0.4, 0, 0.2, 1), 
              right 0.5s cubic-bezier(0.4, 0, 0.2, 1), 
              top 0.3s ease, 
              bottom 0.3s ease,
              min-width 0.5s cubic-bezier(0.4, 0, 0.2, 1),
              max-width 0.5s cubic-bezier(0.4, 0, 0.2, 1),
              margin-left 0.5s cubic-bezier(0.4, 0, 0.2, 1),
              margin-right 0.5s cubic-bezier(0.4, 0, 0.2, 1) !important;
  box-shadow: 2px 0 10px rgba(0, 0, 0, 0.3) !important;
  border: none !important;
}

/* Ensure all text elements inside sidebar have consistent styling */
#workspace-manager-sidebar h1,
#workspace-manager-sidebar h2,
#workspace-manager-sidebar h3,
#workspace-manager-sidebar h4,
#workspace-manager-sidebar h5,
#workspace-manager-sidebar h6,
#workspace-manager-sidebar p,
#workspace-manager-sidebar span,
#workspace-manager-sidebar label,
#workspace-manager-sidebar input,
#workspace-manager-sidebar button,
#workspace-manager-sidebar select,
#workspace-manager-sidebar textarea,
#workspace-manager-sidebar a,
.wm-modal-overlay h1,
.wm-modal-overlay h2,
.wm-modal-overlay h3,
.wm-modal-overlay h4,
.wm-modal-overlay h5,
.wm-modal-overlay h6,
.wm-modal-overlay p,
.wm-modal-overlay span,
.wm-modal-overlay label,
.wm-modal-overlay input,
.wm-modal-overlay button,
.wm-modal-overlay select,
.wm-modal-overlay textarea,
.wm-modal-overlay a,
.wm-panel-overlay h1,
.wm-panel-overlay h2,
.wm-panel-overlay h3,
.wm-panel-overlay h4,
.wm-panel-overlay h5,
.wm-panel-overlay h6,
.wm-panel-overlay p,
.wm-panel-overlay span,
.wm-panel-overlay label,
.wm-panel-overlay input,
.wm-panel-overlay button,
.wm-panel-overlay select,
.wm-panel-overlay textarea,
.wm-panel-overlay a,
.wm-context-menu span,
.wm-context-menu div {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
  color: inherit !important;
  text-transform: none !important;
  letter-spacing: normal !important;
  word-spacing: normal !important;
  text-shadow: none !important;
  -webkit-font-smoothing: antialiased !important;
  -moz-osx-font-smoothing: grayscale !important;
}

/* Hovering mode - floating overlay */
#workspace-manager-sidebar.wm-mode-hovering {
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
}

#workspace-manager-sidebar.wm-sidebar-left {
  border: none !important;
}

#workspace-manager-sidebar.wm-sidebar-right {
  border: none !important;
}

#workspace-manager-sidebar.hidden {
  transform: translateX(-100%);
}

#workspace-manager-sidebar.wm-sidebar-right.hidden {
  transform: translateX(100%);
}

#workspace-manager-sidebar.wm-expanded {
  overflow-x: hidden !important;
  overflow-y: auto !important;
}

/* Auto-collapsed state - leaves small strip visible */
/* Note: Width animation uses transform: scaleX() for smooth transitions */
#workspace-manager-sidebar.wm-auto-collapsed {
  overflow: hidden;
  cursor: pointer;
  z-index: 10000;
  /* Transform is handled by inline styles */
}

/* In hovering mode, collapsed sidebar should be at the edge */
#workspace-manager-sidebar.wm-mode-hovering.wm-auto-collapsed.wm-sidebar-left {
  border-radius: 0 15px 15px 0;
}

#workspace-manager-sidebar.wm-mode-hovering.wm-auto-collapsed.wm-sidebar-right {
  border-radius: 15px 0 0 15px;
}

/* Fixed mode collapsed positioning */
#workspace-manager-sidebar.wm-auto-collapsed.wm-sidebar-left:not(.wm-mode-hovering) {
  left: 0;
  border-radius: 0 15px 15px 0;
}

#workspace-manager-sidebar.wm-auto-collapsed.wm-sidebar-right:not(.wm-mode-hovering) {
  right: 0;
  border-radius: 15px 0 0 15px;
}

/* Main view transitions for collapse/expand */
#workspace-manager-sidebar .wm-main-view {
  transition: opacity 0.3s ease;
}

#workspace-manager-sidebar.wm-auto-collapsed .wm-main-view {
  opacity: 0;
  pointer-events: none;
}

/* Icon transitions: wrapper scales, inner content counter-scales so icon stays crisp */
#workspace-manager-sidebar .wm-icon {
  transition: opacity 0.3s ease, background 0.3s ease, color 0.3s ease, transform 0.25s cubic-bezier(0.4, 0, 0.2, 1) !important;
  transform-origin: center;
}
#workspace-manager-sidebar .wm-icon img,
#workspace-manager-sidebar .wm-icon > span,
#workspace-manager-sidebar .wm-icon > svg {
  transition: transform 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  transform-origin: center;
}
#workspace-manager-sidebar .wm-icon:hover img,
#workspace-manager-sidebar .wm-icon:hover > span,
#workspace-manager-sidebar .wm-icon:hover > svg {
  transform: scale(0.909); /* 1/1.1 so content stays same visual size when wrapper scales */
}
#workspace-manager-sidebar .wm-icon:active img,
#workspace-manager-sidebar .wm-icon:active > span,
#workspace-manager-sidebar .wm-icon:active > svg {
  transform: scale(0.952); /* 1/1.05 for active */
}

#workspace-manager-sidebar.wm-auto-collapsed .wm-icon {
  opacity: 0 !important;
}

/* When hovering over collapsed sidebar, expand it */
/* Note: This is handled by JS now for smooth transitions */
#workspace-manager-sidebar.wm-auto-collapsed:hover {
  /* Hover expansion handled by JS mouseenter event */
}

#workspace-manager-sidebar.wm-auto-collapsed:hover .wm-main-view {
  opacity: 1;
  pointer-events: auto;
}

#workspace-manager-sidebar.wm-auto-collapsed:hover .wm-icon {
  opacity: 1 !important;
}

.wm-taskbar {
  display: flex;
  flex-direction: row;
  height: 100%;
  width: 100%;
  overflow-x: hidden !important;
  overflow-y: visible;
}

.wm-main-view {
  display: flex;
  flex-direction: column;
  height: 100%;
  flex-shrink: 0;
  overflow-x: hidden !important;
  overflow-y: auto;
  width: 100%;
  max-width: 100%;
  padding-top: 14px;
  padding-bottom: 14px;
}

.wm-main-view.hidden {
  display: none;
}

/* Settings Modal Overlay */
.wm-modal-overlay {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  width: 100% !important;
  height: 100% !important;
  background: rgba(0, 0, 0, 0.5) !important;
  display: none !important;
  align-items: center !important;
  justify-content: center !important;
  z-index: 999998 !important;
  backdrop-filter: blur(2px) !important;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
  font-size: 14px !important;
  line-height: 1.5 !important;
  color: #d4d4d4 !important;
}

.wm-modal-overlay.active {
  display: flex !important;
}

.wm-modal {
  position: relative !important;
  background: #252526 !important;
  color: #d4d4d4 !important;
  border-radius: 8px !important;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3) !important;
  width: 100% !important;
  height: 100% !important;
  max-width: none !important;
  max-height: none !important;
  overflow-y: auto !important;
  padding: 40px !important;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
}

.wm-modal-small {
  max-width: 500px !important;
  max-height: 600px !important;
  width: auto !important;
  height: auto !important;
}

.wm-icon-picker-content {
  max-height: 400px;
  overflow-y: auto;
}

.wm-icon-preset:hover {
  background: #007acc !important;
  border-color: #007acc !important;
  transform: scale(1.1);
}

.wm-modal-header {
  display: flex !important;
  justify-content: space-between !important;
  align-items: center !important;
  margin-bottom: 20px !important;
  border-bottom: 1px solid #3e3e42 !important;
  padding-bottom: 12px !important;
}

.wm-modal-header h2 {
  margin: 0 !important;
  font-size: 18px !important;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
  font-weight: 600 !important;
  color: #d4d4d4 !important;
  text-transform: none !important;
  letter-spacing: normal !important;
}

.wm-modal-close {
  background: none;
  border: none;
  color: #d4d4d4;
  cursor: pointer;
  font-size: 24px;
  padding: 0;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.wm-modal-close:hover {
  color: #ffffff;
}

.wm-modal-section {
  margin-bottom: 20px;
}

.wm-modal-section h3 {
  font-size: 14px !important;
  margin: 0 0 12px 0 !important;
  text-transform: uppercase !important;
  color: #999 !important;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
  font-weight: 600 !important;
  letter-spacing: 0.5px !important;
}

.wm-setting-item {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 8px;
}

.wm-setting-item label {
  display: flex;
  align-items: center;
  gap: 6px;
  cursor: pointer;
  flex: 1;
}

.wm-setting-item input[type="radio"] {
  cursor: pointer;
}

/* Integrated Panels (Bookmark, Workspace, Settings) */
.wm-panel-overlay {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  width: 100% !important;
  height: 100% !important;
  background: transparent !important;
  display: none !important;
  z-index: 999997 !important;
  backdrop-filter: none !important;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
  font-size: 14px !important;
  line-height: 1.5 !important;
  color: #d4d4d4 !important;
}

.wm-panel-overlay.active {
  display: block !important;
}

/* Slide in animations based on sidebar position */
.wm-panel-overlay.wm-slide-from-left.active .wm-panel {
  animation: slideInFromLeft 0.3s ease;
}

.wm-panel-overlay.wm-slide-from-right.active .wm-panel {
  animation: slideInFromRight 0.3s ease;
}

@keyframes slideInFromLeft {
  from {
    transform: translateX(-100%);
  }
  to {
    transform: translateX(0);
  }
}

@keyframes slideInFromRight {
  from {
    transform: translateX(100%);
  }
  to {
    transform: translateX(0);
  }
}

/* Slide out animations - triggered when closing */
.wm-panel-overlay.wm-slide-from-left.closing .wm-panel {
  animation: slideOutToLeft 0.3s ease;
}

.wm-panel-overlay.wm-slide-from-right.closing .wm-panel {
  animation: slideOutToRight 0.3s ease;
}

@keyframes slideOutToLeft {
  from {
    transform: translateX(0);
  }
  to {
    transform: translateX(-100%);
  }
}

@keyframes slideOutToRight {
  from {
    transform: translateX(0);
  }
  to {
    transform: translateX(100%);
  }
}

.wm-panel {
  position: fixed !important;
  width: 100% !important;
  max-width: 800px !important;
  background: #252526 !important;
  border-radius: 30px; /* fallback; JS applies s.borderRadius from settings */
  box-shadow: 2px 0 10px rgba(0, 0, 0, 0.3) !important;
  z-index: 999998 !important;
  display: flex !important;
  flex-direction: column !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
  font-size: 14px !important;
  line-height: 1.5 !important;
  color: #d4d4d4 !important;
  /* Position, top, height, border are set dynamically via JavaScript */
}

/* Panel positioning is now handled dynamically via JavaScript based on sidebar position and margins */

.wm-panel-header {
  display: flex !important;
  justify-content: space-between !important;
  align-items: center !important;
  padding: 20px !important;
  border-bottom: 1px solid #3e3e42 !important;
  flex-shrink: 0 !important;
}

.wm-panel-header h2 {
  margin: 0 !important;
  font-size: 18px !important;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
  font-weight: 600 !important;
  color: #d4d4d4 !important;
  text-transform: none !important;
  letter-spacing: normal !important;
}

.wm-panel-close {
  background: none;
  border: none;
  color: #d4d4d4;
  cursor: pointer;
  font-size: 24px;
  padding: 0;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.wm-panel-close:hover {
  color: #ffffff;
}

.wm-panel-content {
  padding: 24px;
  flex: 1;
  overflow-y: auto;
}

.wm-panel-section {
  margin-bottom: 28px;
  padding-bottom: 20px;
  border-bottom: 1px solid rgba(62, 62, 66, 0.5);
}

.wm-panel-section:last-child {
  border-bottom: none;
  margin-bottom: 0;
  padding-bottom: 0;
}

.wm-panel-section h3 {
  font-size: 13px !important;
  margin: 0 0 16px 0 !important;
  text-transform: uppercase !important;
  color: #999 !important;
  letter-spacing: 0.5px !important;
  font-weight: 600 !important;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
}

/* Panel setting items */
.wm-panel-section .wm-setting-item {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 16px;
  padding: 12px;
  background: rgba(255, 255, 255, 0.02);
  border-radius: 8px;
  transition: background 0.2s ease;
}

.wm-panel-section .wm-setting-item:hover {
  background: rgba(255, 255, 255, 0.05);
}

.wm-panel-section .wm-setting-item label {
  display: flex;
  align-items: center;
  gap: 6px;
  cursor: pointer;
  flex: 1;
  font-size: 14px;
}

.wm-panel-section .wm-setting-item input[type="radio"] {
  cursor: pointer;
  width: 18px;
  height: 18px;
  accent-color: #007acc;
}

/* Theme cards */
.wm-theme-card {
  padding: 12px;
  background: #2d2d2d;
  border: 2px solid #3e3e42;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.wm-theme-card:hover {
  border-color: #555;
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
}

.wm-theme-card.active {
  border-color: #007acc;
  background: rgba(0, 122, 204, 0.1);
  box-shadow: 0 0 0 2px rgba(0, 122, 204, 0.3);
}

.wm-theme-preview {
  width: 100%;
  border-radius: 4px;
  overflow: hidden;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.wm-panel-section .wm-setting-item input[type="checkbox"] {
  cursor: pointer;
  width: 18px;
  height: 18px;
  accent-color: #007acc;
}

/* Radio button option styling */
.wm-radio-option {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 12px;
  border-radius: 8px;
  background: rgba(62, 62, 66, 0.3);
  transition: all 0.2s ease;
  border: 2px solid transparent;
  cursor: pointer;
  font-size: 14px;
}

.wm-radio-option:hover {
  background: rgba(62, 62, 66, 0.5);
  border-color: rgba(0, 122, 204, 0.3);
  transform: translateY(-1px);
}

.wm-radio-option input[type="radio"] {
  margin-right: 8px;
  cursor: pointer;
  width: 18px;
  height: 18px;
  accent-color: #007acc;
}

.wm-radio-option:has(input[type="radio"]:checked) {
  background: rgba(0, 122, 204, 0.2) !important;
  border-color: #007acc !important;
  font-weight: 600;
}

.wm-radio-option:has(input[type="radio"]:checked) span {
  color: #007acc;
}

/* Checkbox option styling */
.wm-checkbox-option {
  display: flex;
  align-items: center;
  padding: 12px;
  border-radius: 8px;
  background: rgba(62, 62, 66, 0.3);
  transition: all 0.2s ease;
  border: 2px solid transparent;
  cursor: pointer;
  font-size: 14px;
}

.wm-checkbox-option:hover {
  background: rgba(62, 62, 66, 0.5);
  border-color: rgba(0, 122, 204, 0.3);
  transform: translateY(-1px);
}

.wm-checkbox-option input[type="checkbox"] {
  margin-right: 8px;
  cursor: pointer;
  width: 18px;
  height: 18px;
  accent-color: #007acc;
}

.wm-checkbox-option:has(input[type="checkbox"]:checked) {
  background: rgba(0, 122, 204, 0.2) !important;
  border-color: #007acc !important;
}

.wm-checkbox-option:has(input[type="checkbox"]:checked) span {
  color: #007acc;
  font-weight: 600;
}

/* Slider styling */
.wm-slider-item {
  flex-direction: column;
  align-items: stretch;
  gap: 8px;
}

.wm-slider-label {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  font-weight: 500;
  color: #d4d4d4;
}

.wm-slider-value {
  font-weight: 600;
  color: #007acc;
  min-width: 45px;
  text-align: right;
}

.wm-slider {
  width: 100%;
  height: 6px;
  border-radius: 3px;
  background: #3e3e42;
  outline: none;
  -webkit-appearance: none;
  appearance: none;
  cursor: pointer;
  transition: background 0.2s ease;
}

.wm-slider:hover {
  background: #4a4a4e;
}

.wm-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: linear-gradient(135deg, #007acc 0%, #005a9c 100%);
  cursor: pointer;
  box-shadow: 0 2px 6px rgba(0, 122, 204, 0.4);
  transition: all 0.2s ease;
}

.wm-slider::-webkit-slider-thumb:hover {
  transform: scale(1.2);
  box-shadow: 0 3px 8px rgba(0, 122, 204, 0.6);
}

.wm-slider::-moz-range-thumb {
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: linear-gradient(135deg, #007acc 0%, #005a9c 100%);
  cursor: pointer;
  border: none;
  box-shadow: 0 2px 6px rgba(0, 122, 204, 0.4);
  transition: all 0.2s ease;
}

.wm-slider::-moz-range-thumb:hover {
  transform: scale(1.2);
  box-shadow: 0 3px 8px rgba(0, 122, 204, 0.6);
}

/* Color picker styling */
.wm-setting-item input[type="color"] {
  width: 50px;
  height: 36px;
  border: 2px solid #3e3e42;
  border-radius: 6px;
  cursor: pointer;
  background: none;
  padding: 2px;
  transition: all 0.2s ease;
}

.wm-setting-item input[type="color"]:hover {
  border-color: #007acc;
  transform: scale(1.05);
  box-shadow: 0 2px 8px rgba(0, 122, 204, 0.3);
}

.wm-setting-item input[type="color"]::-webkit-color-swatch-wrapper {
  padding: 0;
}

.wm-setting-item input[type="color"]::-webkit-color-swatch {
  border: none;
  border-radius: 4px;
}

.wm-setting-item input[type="color"]::-moz-color-swatch {
  border: none;
  border-radius: 4px;
}

/* Form Modal */
.wm-form-group {
  margin-bottom: 16px;
}

.wm-form-label {
  display: block !important;
  font-size: 13px !important;
  color: #d4d4d4 !important;
  margin-bottom: 6px !important;
  font-weight: 500 !important;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
  text-transform: none !important;
  letter-spacing: normal !important;
}

.wm-form-input {
  width: 100% !important;
  padding: 8px 12px !important;
  background: #2d2d2d !important;
  border: 1px solid #3e3e42 !important;
  color: #d4d4d4 !important;
  border-radius: 4px !important;
  font-size: 13px !important;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
  box-sizing: border-box !important;
  line-height: 1.5 !important;
  text-transform: none !important;
  letter-spacing: normal !important;
}

.wm-form-input:focus {
  outline: none !important;
  border-color: #007acc !important;
  box-shadow: 0 0 0 2px rgba(0, 122, 204, 0.2) !important;
}

.wm-modal-small {
  max-width: 400px !important;
  width: auto !important;
}

.wm-modal-actions {
  display: flex;
  gap: 8px;
  margin-top: 20px;
  padding-top: 12px;
  border-top: 1px solid #3e3e42;
}

.wm-modal-actions button {
  flex: 1;
  padding: 8px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 13px;
  font-weight: 500;
  transition: all 0.2s;
  background: #3e3e42;
  color: #d4d4d4;
}

.wm-modal-actions button:hover {
  background: #505052;
}

.wm-form-submit, .wm-confirm-btn {
  background: #007acc !important;
  color: #ffffff !important;
}

.wm-form-submit:hover, .wm-confirm-btn:hover {
  background: #0098ff !important;
}

.wm-modal-message {
  font-size: 14px;
  line-height: 1.5;
}

/* Context Menu */
.wm-context-menu {
  position: fixed !important;
  background: #2d2d2d !important;
  border: 1px solid #3e3e42 !important;
  border-radius: 4px !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4) !important;
  z-index: 9999999 !important;
  min-width: 150px !important;
  padding: 4px 0 !important;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
  font-size: 13px !important;
  line-height: 1.5 !important;
  color: #d4d4d4 !important;
}

.wm-context-menu-item {
  padding: 8px 16px !important;
  color: #d4d4d4 !important;
  cursor: pointer !important;
  font-size: 13px !important;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
  white-space: nowrap !important;
  transition: background-color 0.15s ease !important;
  background: transparent !important;
}

.wm-context-menu-item:hover {
  background-color: #007acc !important;
  color: #ffffff !important;
}

.wm-add-btn {
  font-size: 18px;
  font-weight: bold;
  background: #3e3e42;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.wm-add-btn:hover {
  background: linear-gradient(135deg, #007acc 0%, #005a9c 100%);
  color: #ffffff;
  transform: scale(1.1);
}

.wm-add-btn:active {
  transform: scale(1.05);
}

.wm-section {
  display: flex;
  flex-direction: column;
  gap: 6px;
  align-items: center;
  padding: 4px;
  overflow-x: hidden !important;
  max-width: 100%;
}

/* Grid layout for snap-to-grid positioning */
.wm-grid-container {
  display: grid;
  grid-template-columns: 1fr;
  grid-auto-rows: auto;
  gap: 6px;
  align-items: start;
  justify-items: center;
}

.wm-workspaces {
  flex-shrink: 0;
}

.wm-bookmarks {
  flex: 1;
  overflow-x: hidden !important;
  overflow-y: auto;
  max-width: 100%;
}

.wm-divider {
  width: 70%;
  height: 1px;
  background: #3e3e42;
  margin: 6px auto;
}

/* Icon buttons – wrapper scales on hover; inner content counter-scales so icon/letter stays crisp */
.wm-icon {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  width: 40px !important;
  height: 40px !important;
  border: none !important;
  border-radius: 100px !important;
  background: #3e3e42 !important;
  color: #d4d4d4 !important;
  cursor: pointer !important;
  font-size: 20px !important;
  font-weight: 500 !important;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
  transition: background 0.25s ease, color 0.25s ease, transform 0.25s cubic-bezier(0.4, 0, 0.2, 1) !important;
  text-decoration: none !important;
  flex-shrink: 0 !important;
  padding: 0 !important;
  overflow: hidden !important;
  box-sizing: border-box !important;
  text-transform: none !important;
  letter-spacing: normal !important;
  transform-origin: center;
}

.wm-icon img,
.wm-icon > span,
.wm-icon > svg {
  transition: transform 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  transform-origin: center;
}

.wm-icon:is(a, button) {
  border-radius: 100px;
}

.wm-icon:hover {
  background: linear-gradient(135deg, #007acc 0%, #005a9c 100%);
  color: #ffffff;
  transform: scale(1.1);
}

.wm-icon:hover img,
.wm-icon:hover > span,
.wm-icon:hover > svg {
  transform: scale(0.909); /* 1/1.1 – content stays same size, no blur */
}

.wm-icon:active {
  transform: scale(1.05);
}

.wm-icon:active img,
.wm-icon:active > span,
.wm-icon:active > svg {
  transform: scale(0.952); /* 1/1.05 */
}

.wm-settings-btn {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  font-size: 18px;
  font-weight: 400;
  opacity: 0.8;
  display: flex;
  align-items: center;
  justify-content: center;
}

.wm-settings-btn svg {
  width: 20px;
  height: 20px;
  opacity: 0.9;
  display: block;
}

.wm-settings-btn:hover {
  background: linear-gradient(135deg, #007acc 0%, #005a9c 100%) !important;
  transform: scale(1.05);
  opacity: 1;
}

.wm-bookmark {
  border-radius: 80px;
}

.wm-bookmark img {
  width: 24px;
  height: 24px;
  object-fit: contain;
  border-radius: 100px;
  display: block;
}

/* Settings Modal */
.wm-modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 999998;
}

.wm-modal-overlay.active {
  display: flex;
}

.wm-modal {
  position: relative;
  background: #252526;
  color: #d4d4d4;
  border-radius: 8px;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
  width: 90%;
  max-width: 500px;
  max-height: 90vh;
  overflow-y: auto;
  padding: 24px;
}

.wm-modal-header {
  display: flex !important;
  justify-content: space-between !important;
  align-items: center !important;
  margin-bottom: 20px !important;
  border-bottom: 1px solid #3e3e42 !important;
  padding-bottom: 12px !important;
}

.wm-modal-header h2 {
  margin: 0 !important;
  font-size: 18px !important;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
  font-weight: 600 !important;
  color: #d4d4d4 !important;
  text-transform: none !important;
  letter-spacing: normal !important;
}

.wm-modal-close {
  background: none;
  border: none;
  color: #d4d4d4;
  cursor: pointer;
  font-size: 24px;
  padding: 0;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.wm-modal-close:hover {
  color: #ffffff;
}

.wm-modal-section {
  margin-bottom: 20px;
}

.wm-modal-section h3 {
  font-size: 14px !important;
  margin: 0 0 12px 0 !important;
  text-transform: uppercase !important;
  color: #999 !important;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
  font-weight: 600 !important;
  letter-spacing: 0.5px !important;
}

.wm-setting-item {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 8px;
}

.wm-setting-item label {
  display: flex;
  align-items: center;
  gap: 6px;
  cursor: pointer;
  flex: 1;
}

.wm-setting-item input[type="radio"] {
  cursor: pointer;
}

/* Duplicate .wm-icon hover/active above; this block kept for specificity elsewhere */
.wm-icon.wm-draggable {
  cursor: grab;
  transition: transform 0.15s ease, box-shadow 0.15s ease, opacity 0.15s ease;
}
.wm-icon.wm-draggable:active {
  cursor: grabbing;
}

/* Drop target: obvious “slot” when hovering during drag */
.wm-icon.wm-drag-over {
  border: 2px dashed rgba(0, 122, 204, 0.9);
  background: rgba(0, 122, 204, 0.2);
  transform: scale(1.08);
  box-shadow: 0 0 0 2px rgba(0, 122, 204, 0.4);
  cursor: grabbing;
}
.wm-icon.wm-drag-over img,
.wm-icon.wm-drag-over > span,
.wm-icon.wm-drag-over > svg {
  transform: scale(0.926);
}

.wm-icon.wm-draggable:hover {
  cursor: grab;
}

/* Dragging: lifted, shadowed, clearly the thing being moved */
.wm-icon.wm-draggable.dragging {
  cursor: grabbing;
  opacity: 0.85;
  transform: scale(1.12);
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4), 0 0 0 2px rgba(0, 122, 204, 0.5);
  z-index: 1000;
  pointer-events: none;
}
.wm-icon.wm-draggable.dragging img,
.wm-icon.wm-draggable.dragging > span,
.wm-icon.wm-draggable.dragging > svg {
  transform: scale(0.893);
}

/* Scrollbar styling for sidebar */
#workspace-manager-sidebar::-webkit-scrollbar {
  width: 6px;
  height: 0; /* Hide horizontal scrollbar */
}

#workspace-manager-sidebar::-webkit-scrollbar:horizontal {
  display: none !important;
  height: 0 !important;
}

#workspace-manager-sidebar::-webkit-scrollbar-track {
  background: transparent;
}

#workspace-manager-sidebar::-webkit-scrollbar-thumb {
  background: #555;
  border-radius: 3px;
}

#workspace-manager-sidebar::-webkit-scrollbar-thumb:hover {
  background: #777;
}

/* Force hide horizontal scrollbar on all sidebar elements */
#workspace-manager-sidebar,
#workspace-manager-sidebar *,
.wm-panel,
.wm-panel * {
  scrollbar-width: thin;
}

#workspace-manager-sidebar::-webkit-scrollbar:horizontal,
#workspace-manager-sidebar *::-webkit-scrollbar:horizontal,
.wm-panel::-webkit-scrollbar:horizontal,
.wm-panel *::-webkit-scrollbar:horizontal {
  display: none !important;
  height: 0 !important;
}
